@page "/Catalog"
@model MyApp.Namespace.CatalogListModel
@using System

<h1>Catalog</h1>

@if (Model.Products == null || !Model.Products.Any())
{
    <p>No products available.</p>
}
else
{
    <div>
        @foreach (var product in Model.Products)
        {
            <div style="margin-bottom:30px;">
                <h3>@product.Name</h3>
                <p>Start Price: @product.StartPrice</p>
                <p>Auction ends: @product.EndOfAuction.ToLocalTime().ToString("g")</p>

                @if (product.Image != null && product.Image.Length > 0)
                {
                    var imgSrc = $"data:image/png;base64,{product.Image}"; // or image/jpeg if needed
                    <img src="@imgSrc" alt="@product.Name" style="max-width:300px; max-height:300px;" />
                }
                else
                {
                    <p><i>No image available.</i></p>
                }
            </div>
        }
    </div>
}
